(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{4758:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return a(5305)}])},5305:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return m}});var i=a(5893),s=a(7294),t=a(5281),l=a(2757),r=a(7747),u=a(5161),d=a(8020),c=a(6529),o=a(3090),h=a(1666),g=a(4225),x=a(1293),f=a(1163);let j=()=>{let[e,n]=(0,s.useState)(""),[a,j]=(0,s.useState)({value:"",isValid:!0}),[p,v]=(0,s.useState)({value:"",isValid:!0}),[m,w]=(0,s.useState)(""),[_,S]=(0,s.useState)(""),[y,I]=(0,s.useState)(!1),b=(0,f.useRouter)();(0,s.useEffect)(()=>{localStorage.setItem("user_token",m),localStorage.setItem("user_name",e),localStorage.setItem("user_email",a.value)},[m]);let k=e=>n=>{e({value:n.target.value,isValid:!0})},N=async()=>{let e={email:a.value,password:p.value},i=JSON.stringify(e),s=await fetch("http://54.255.160.119/api/auth/sign-in",{method:"POST",headers:{"Content-Type":"application/json"},body:i}),t=await s.json();t.status?b.push("/user-profile"):S("Incorrect email and/or password"),t.data.token&&(w(t.data.token),n(t.data.user.name))},E=async()=>{if(!a.value){j({value:"",isValid:!1});return}if(!p.value){v({value:"",isValid:!1});return}I(!0),await N(),I(!1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(t.K,{spacing:8,mx:"auto",width:"full",maxW:"lg",children:[(0,i.jsx)(t.K,{align:"center",children:(0,i.jsx)(l.X,{textAlign:"center",fontSize:"4xl",children:"Sign in to your account"})}),(0,i.jsx)(r.xu,{bg:(0,u.ff)("white","gray.700"),rounded:"lg",p:8,children:(0,i.jsxs)(t.K,{spacing:4,children:[(0,i.jsxs)(d.NI,{id:"email",children:[(0,i.jsx)(c.l,{children:"Email address"}),(0,i.jsx)(o.I,{type:"email",value:a.value,onChange:k(j),isInvalid:!a.isValid})]}),(0,i.jsxs)(d.NI,{id:"password",children:[(0,i.jsx)(c.l,{children:"Password"}),(0,i.jsx)(o.I,{type:"password",value:p.value,onChange:k(v),isInvalid:!p.isValid})]}),"children",(0,i.jsxs)(t.K,{spacing:10,children:[(0,i.jsx)(t.K,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:(0,i.jsx)(h.X,{children:"Remember me"})}),(0,i.jsx)(g.z,{isLoading:y,onClick:E,bg:"#255DB1",color:"white",_hover:{bg:"#3D7DD6"},children:"Sign innnnnnnnnnnnn"})]}),(0,i.jsx)(x.x,{align:"center",color:"red.500",children:_})]})})]})})};var p=a(7239);let v=()=>(0,i.jsx)(p.M,{w:"full",minH:"70vh",children:(0,i.jsx)(j,{})});var m=v}},function(e){e.O(0,[506,774,888,179],function(){return e(e.s=4758)}),_N_E=e.O()}]);