(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{4758:function(e,a,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return i(5305)}])},5305:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return m}});var n=i(5893),s=i(7294),t=i(5281),l=i(2757),r=i(7747),u=i(5161),d=i(8020),c=i(6529),o=i(3090),h=i(1666),g=i(4225),x=i(1293),f=i(1163);let j=()=>{let[e,a]=(0,s.useState)(""),[i,j]=(0,s.useState)({value:"",isValid:!0}),[p,v]=(0,s.useState)({value:"",isValid:!0}),[m,w]=(0,s.useState)(""),[_,S]=(0,s.useState)(""),[y,I]=(0,s.useState)(!1),b=(0,f.useRouter)();(0,s.useEffect)(()=>{localStorage.setItem("user_token",m),localStorage.setItem("user_name",e),localStorage.setItem("user_email",i.value)},[m]);let k=e=>a=>{e({value:a.target.value,isValid:!0})},N=async()=>{let e={email:i.value,password:p.value},n=JSON.stringify(e),s=await fetch("http://52.221.234.247/api/auth/sign-in",{method:"POST",headers:{"Content-Type":"application/json"},body:n}),t=await s.json();t.status?b.push("/user-profile"):S("Incorrect email and/or password"),t.data.token&&(w(t.data.token),a(t.data.user.name))},E=async()=>{if(!i.value){j({value:"",isValid:!1});return}if(!p.value){v({value:"",isValid:!1});return}I(!0),await N(),I(!1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(t.K,{spacing:8,mx:"auto",width:"full",maxW:"lg",children:[(0,n.jsx)(t.K,{align:"center",children:(0,n.jsx)(l.X,{textAlign:"center",fontSize:"4xl",children:"Sign in to your account"})}),(0,n.jsx)(r.xu,{bg:(0,u.ff)("white","gray.700"),rounded:"lg",p:8,children:(0,n.jsxs)(t.K,{spacing:4,children:[(0,n.jsxs)(d.NI,{id:"email",children:[(0,n.jsx)(c.l,{children:"Email address"}),(0,n.jsx)(o.I,{type:"email",value:i.value,onChange:k(j),isInvalid:!i.isValid})]}),(0,n.jsxs)(d.NI,{id:"password",children:[(0,n.jsx)(c.l,{children:"Password"}),(0,n.jsx)(o.I,{type:"password",value:p.value,onChange:k(v),isInvalid:!p.isValid})]}),"children",(0,n.jsxs)(t.K,{spacing:10,children:[(0,n.jsx)(t.K,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:(0,n.jsx)(h.X,{children:"Remember me"})}),(0,n.jsx)(g.z,{isLoading:y,onClick:E,bg:"#255DB1",color:"white",_hover:{bg:"#3D7DD6"},children:"Sign in"})]}),(0,n.jsx)(x.x,{align:"center",color:"red.500",children:_})]})})]})})};var p=i(7239);let v=()=>(0,n.jsx)(p.M,{w:"full",minH:"70vh",children:(0,n.jsx)(j,{})});var m=v}},function(e){e.O(0,[506,774,888,179],function(){return e(e.s=4758)}),_N_E=e.O()}]);