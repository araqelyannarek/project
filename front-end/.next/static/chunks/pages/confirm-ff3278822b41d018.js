(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{6577:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirm",function(){return t(4326)}])},4326:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var i=t(5893),l=t(7239),r=t(5281),a=t(2757),o=t(1293),s=t(7747),u=t(5161),c=t(8020),d=t(3717),f=t(4225),h=t(1163),p=t(7294),m=t(5225),x=t(1942),g=t(5432),v=t(5227),y=t(1103),[j,_,C,b]=(0,m.n)(),[k,S]=(0,v.k)({name:"PinInputContext",errorMessage:"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`"}),w=e=>null==e?void 0:e.split("");function N(e,n){return("alphanumeric"===n?/^[a-zA-Z0-9]+$/i:/^[0-9]+$/).test(e)}var I=t(7440),A=t(3179),P=t(6554),E=t(6914),K=t(2495);function W(e){let n=(0,I.mq)("PinInput",e),{children:t,...l}=(0,A.Lr)(e),{descendants:r,...a}=function(e={}){let{autoFocus:n,value:t,defaultValue:i,onChange:l,onComplete:r,placeholder:a="○",manageFocus:o=!0,otp:s=!1,id:u,isDisabled:c,isInvalid:d,type:f="number",mask:h}=e,m=(0,p.useId)(),v=null!=u?u:`pin-input-${m}`,y=C(),[j,_]=(0,p.useState)(!0),[b,k]=(0,p.useState)(-1),[S,I]=(0,x.T)({defaultValue:w(i)||[],value:w(t),onChange:e=>null==l?void 0:l(e.join(""))});(0,p.useEffect)(()=>{if(n){let e=y.first();e&&requestAnimationFrame(()=>{e.node.focus()})}},[y]);let A=(0,p.useCallback)(e=>{if(!j||!o)return;let n=y.next(e,!1);n&&requestAnimationFrame(()=>{n.node.focus()})},[y,j,o]),P=(0,p.useCallback)((e,n,t=!0)=>{let i=[...S];i[n]=e,I(i);let l=""!==e&&i.length===y.count()&&i.every(e=>null!=e&&""!==e);l?null==r||r(i.join("")):t&&A(n)},[S,I,A,r,y]),E=(0,p.useCallback)(()=>{var e;let n=Array(y.count()).fill("");I(n);let t=y.first();null==(e=null==t?void 0:t.node)||e.focus()},[y,I]),K=(0,p.useCallback)((e,n)=>{let t=n;return(null==e?void 0:e.length)>0&&(e[0]===n.charAt(0)?t=n.charAt(1):e[0]===n.charAt(1)&&(t=n.charAt(0))),t},[]),W=(0,p.useCallback)(e=>{let{index:n,...t}=e,i=e=>{let t=e.target.value,i=S[n],l=K(i,t);if(""===l){P("",n);return}if(t.length>2){if(N(t,f)){let e=t.split("").filter((e,n)=>n<y.count());I(e),e.length===y.count()&&(null==r||r(e.join("")))}}else N(l,f)&&P(l,n),_(!0)},l=e=>{var t;if("Backspace"===e.key&&o){if(""===e.target.value){let e=y.prev(n,!1);e&&(P("",n-1,!1),null==(t=e.node)||t.focus(),_(!0))}else _(!1)}},u=()=>{k(n)},p=()=>{k(-1)};return{"aria-label":"Please enter your pin code",inputMode:"number"===f?"numeric":"text",type:h?"password":"number"===f?"tel":"text",...t,id:`${v}-${n}`,disabled:c,"aria-invalid":(0,g.Qm)(d),onChange:(0,g.v0)(t.onChange,i),onKeyDown:(0,g.v0)(t.onKeyDown,l),onFocus:(0,g.v0)(t.onFocus,u),onBlur:(0,g.v0)(t.onBlur,p),value:S[n]||"",autoComplete:s?"one-time-code":"off",placeholder:b===n?"":a}},[y,b,K,v,c,h,d,o,r,s,a,P,I,f,S]);return{getInputProps:W,id:v,descendants:y,values:S,setValue:P,setValues:I,clear:E}}(l),o=(0,K.W)(t).map(e=>(0,p.cloneElement)(e,{__css:n}));return(0,i.jsx)(j,{value:r,children:(0,i.jsx)(k,{value:a,children:o})})}W.displayName="PinInput";var z=(0,P.G)(function(e,n){let t=function(e={},n=null){let{getInputProps:t}=S(),{index:i,register:l}=b();return t({...e,ref:(0,y.lq)(l,n),index:i})}(e,n);return(0,i.jsx)(E.m.input,{...t,className:(0,g.cx)("chakra-pin-input",e.className)})});function D(e){let{placeholder:n,onChange:t,onComplete:l,fieldStyle:r,...a}=e,[o,s]=p.useState(""),u=e=>{s(e),t(e)};return(0,i.jsxs)(W,{placeholder:n,value:o,onChange:u,...a,children:[(0,i.jsx)(z,{style:r}),(0,i.jsx)(z,{style:r}),(0,i.jsx)(z,{style:r}),(0,i.jsx)(z,{style:r}),(0,i.jsx)(z,{style:r}),(0,i.jsx)(z,{style:r})]})}z.displayName="PinInputField";let F=()=>{let[e,n]=(0,p.useState)({value:"",isValid:!0}),[t,m]=(0,p.useState)(!1),x=(0,h.useRouter)(),g=async()=>{if(!e){n({value:"",isValid:!1});return}m(!0);let t=localStorage.getItem("pending_verification_email");if(t){try{localStorage.removeItem("pending_verification_email"),x.push("/signin")}catch(e){console.error(e)}m(!1)}},v=async()=>{x.push("/signup")};return(0,i.jsx)(l.M,{w:"full",minH:"60vh",children:(0,i.jsxs)(r.K,{spacing:8,mx:"auto",maxW:"lg",px:6,children:[(0,i.jsxs)(r.K,{align:"center",children:[(0,i.jsx)(a.X,{fontSize:"4xl",children:"Confirm your account"}),(0,i.jsx)(o.x,{fontSize:"lg",color:"gray.600",children:"Check your email. We sent you a code."})]}),(0,i.jsx)(s.xu,{p:8,bg:(0,u.ff)("white","gray.700"),rounded:"lg",children:(0,i.jsxs)(r.K,{spacing:4,children:[(0,i.jsx)(c.NI,{id:"confirmation_code",children:(0,i.jsx)(D,{placeholder:"•",fieldStyle:{fontWeight:"bold",margin:"0 4px",padding:"30px 0.5ch",fontFamily:"monospace",fontSize:"2rem",width:"3ch"},onChange:e=>n({value:e,isValid:!0})})}),(0,i.jsxs)(d.k,{alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(r.K,{spacing:30,children:(0,i.jsx)(o.x,{fontSize:"sm",color:"gray.500",fontWeight:800,cursor:"pointer",onClick:v,textDecoration:"underline",children:"BACK"})}),(0,i.jsx)(r.K,{spacing:10,children:(0,i.jsx)(f.z,{isLoading:t,onClick:g,bg:"#255DB1",color:"white",_hover:{bg:"#3D7DD6"},children:"NEXT"})})]})]})})]})})};var X=F},2757:function(e,n,t){"use strict";t.d(n,{X:function(){return u}});var i=t(6554),l=t(7440),r=t(3179),a=t(6914),o=t(5432),s=t(5893),u=(0,i.G)(function(e,n){let t=(0,l.mq)("Heading",e),{className:i,...u}=(0,r.Lr)(e);return(0,s.jsx)(a.m.h2,{ref:n,className:(0,o.cx)("chakra-heading",e.className),...u,__css:t})});u.displayName="Heading"},7239:function(e,n,t){"use strict";t.d(n,{M:function(){return a}});var i=t(6914),l=t(6554),r=t(5893),a=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});a.displayName="Center";var o={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,l.G)(function(e,n){let{axis:t="both",...l}=e;return(0,r.jsx)(i.m.div,{ref:n,__css:o[t],...l,position:"absolute"})})},1942:function(e,n,t){"use strict";t.d(n,{T:function(){return r}});var i=t(7294),l=t(5155);function r(e){let{value:n,defaultValue:t,onChange:r,shouldUpdate:a=(e,n)=>e!==n}=e,o=(0,l.W)(r),s=(0,l.W)(a),[u,c]=(0,i.useState)(t),d=void 0!==n,f=d?n:u,h=(0,l.W)(e=>{let n="function"==typeof e?e(f):e;s(f,n)&&(d||c(n),o(n))},[d,o,f,s]);return[f,h]}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6577)}),_N_E=e.O()}]);